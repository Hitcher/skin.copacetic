<?xml version="1.0" encoding="UTF-8"?>
<window>
	<!-- musicinformation -->
	<defaultcontrol always="true">9001</defaultcontrol>
	<backgroundcolor>$VAR[Secondary_Color]</backgroundcolor>
	<include>Delayed_Dialog_Fade_Animation</include>
	<controls>

		<!-- Delay on Load -->
		<control type="button" id="9001">
			<visible allowhiddenfocus="true">false</visible>
			<onfocus>SetFocus(97)</onfocus>
		</control>
		<control type="group" id="9002">
			<visible>Control.HasFocus(9001)</visible>
			<animation effect="slide" end="0,0" time="360" reversible="false">Hidden</animation>
		</control>

		<!-- Hidden list for song info
		<control type="list" id="4500">
			<visible>String.IsEqual(ListItem.DBType,album)</visible>
			<width>0</width>
			<height>0</height>
			<orientation>vertical</orientation>
			<itemlayout />
			<focusedlayout />
			<content>$INFO[ListItem.FolderPath]</content>
		</control>-->

		<!-- Background -->
		<control type="group">
			<control type="image">
				<aspectratio>scale</aspectratio>
				<texture colordiffuse="$VAR[Dark_Color]">views/white_100.png</texture>
			</control>
			<control type="image">
				<include>Dialog_Fade_Animation</include>
				<aspectratio>scale</aspectratio>
				<texture colordiffuse="$VAR[Info_Artwork_Diffuse]" fallback="fallback.png" background="true">$VAR[Dialog_Info_Background]</texture>
			</control>

		</control>

		<!-- Content -->

		<control type="group">
			<visible>!Control.IsVisible(9002) + Window.IsActive(musicinformation)</visible>
			<include>Delayed_Content_Fade_Animation</include>

			<control type="group">
				<visible>!$EXP[TransparentDialog_IsVisible]</visible>
				<include>Content_Fade_Animation</include>

				<control type="image">
					<left>0</left>
					<centertop>50%</centertop>
					<width>720</width>
					<height>720</height>
					<texture fallback="fallback.png" background="true">$INFO[ListItem.Art(thumb)]</texture>
				</control>
				<include content="Transparent_Dialog_Panel">
					<param name="left" value="720"/>
					<param name="right" value="60"/>
				</include>

				<!-- Details -->
				<include content="Info_Dialog_Header">
					<param name="visible" value="!Control.HasFocus(99) + !Control.HasFocus(60) + !Control.HasFocus(98) + !Control.HasFocus(50)"/>
					<param name="left" value="780"/>
					<param name="right" value="120"/>
					<param name="align" value="left"/>
				</include>
				<include content="Info_Dialog_Plot">
					<param name="visible" value="Control.HasFocus(99) | Control.HasFocus(60)"/>
					<param name="left" value="780"/>
					<param name="right" value="120"/>
					<param name="align" value="left"/>
				</include>
				<include content="Simple_List">
					<param name="id" value="50"/>
					<param name="visible" value="Control.HasFocus(50) | Control.HasFocus(98)"/>
					<param name="animation" value="Delayed_Content_Fade_Animation"/>
					<param name="left" value="720"/>
					<param name="nowplayingvisible" value="true"/>
					<param name="labelleft" value="120"/>
					<param name="label" value="$INFO[ListItem.Label]"/>
					<param name="labelmaxwidth" value="960"/>
					<param name="selectedcolor" value="$VAR[Light_Color]"/>
				</include>

				<!-- Button group -->
				<control type="grouplist" id="65000">
					<centerleft>50%</centerleft>
					<bottom>60</bottom>
					<width>420</width>
					<height>60</height>
					<orientation>horizontal</orientation>
					<align>center</align>
					<itemgap>0</itemgap>
					<usecontrolcoords>true</usecontrolcoords>
					<control type="button" id="97">
						<include content="Icon_Button">
							<param name="description" value="Play button"/>
							<param name="icon" value="Play"/>
						</include>
						<onclick condition="String.IsEmpty(ListItem.DBID)">PlayMedia($INFO[ListItem.FilenameAndPath])</onclick>
						<onclick condition="System.AddonIsEnabled(script.playalbum) + String.IsEqual(ListItem.DBType,album)">RunScript(script.playalbum,albumid=$INFO[ListItem.DBID])</onclick>
						<onclick condition="System.AddonIsEnabled(script.playalbum) + String.IsEqual(ListItem.DBType,song)">RunScript(script.playalbum,songid=$INFO[ListItem.DBID])</onclick>
						<onclick condition="System.AddonIsEnabled(script.playalbum)">Action(close)</onclick>
						<onclick condition="System.HasAddon(script.playalbum) + !System.AddonIsEnabled(script.playalbum) + !String.IsEmpty(ListItem.DBID)">EnableAddon(script.playalbum)</onclick>
						<onclick condition="!System.HasAddon(script.playalbum) + !String.IsEmpty(ListItem.DBID)">InstallAddon(script.playalbum)</onclick>
					</control>
					<control type="button" id="6">
						<include content="Icon_Button">
							<param name="description" value="Refresh button"/>
							<param name="icon" value="Refresh"/>
						</include>
					</control>
					<control type="button" id="99">
						<visible>!String.IsEmpty(Control.GetLabel(916))</visible>
						<include content="Icon_Button">
							<param name="description" value="Plot/Bio/Summary"/>
							<param name="icon" value="Plot"/>
						</include>
						<onclick>SetFocus(60)</onclick>
						<onup>SetFocus(60)</onup>
					</control>
					<control type="button" id="7">
						<include content="Icon_Button">
							<param name="description" value="User rating"/>
							<param name="icon" value="Bookmarks"/>
						</include>
					</control>
					<control type="button" id="12">
						<include content="Icon_Button">
							<param name="description" value="Artist info"/>
							<param name="icon" value="Artist"/>
						</include>
					</control>
					<control type="button" id="98">
						<include content="Icon_Button">
							<param name="description" value="Tracklist"/>
							<param name="icon" value="Album"/>
						</include>
						<onup>SetFocus(50)</onup>
						<onclick>SetFocus(50)</onclick>
					</control>
					<control type="button" id="10">
						<include content="Icon_Button">
							<param name="description" value="Choose art"/>
							<param name="icon" value="Menu"/>
						</include>
					</control>
				</control>
			</control>
		</control>

	</controls>
</window>
