<?xml version="1.0" encoding="UTF-8"?>
<window>
	<!-- home -->
	<onload>RunScript(script.skinshortcuts,type=buildxml&amp;mainmenuID=9000&amp;group=mainmenu|shutdownmenu)</onload>
	<onunload condition="!Skin.HasSetting(Global_Fanart_Slideshow_Disabled) + String.IsEmpty(Window(home).Property(Global_Fanart_Slideshow))">SetProperty(Global_Fanart_Slideshow,$ESCINFO[Container(12340).ListItem.Art(fanart)],home)</onunload>
	<onunload condition="String.IsEqual(Window(home).Property(Trailer_Autoplay),true)">PlayerControl(Stop)</onunload>
	<onunload condition="String.IsEqual(Window(home).Property(Trailer_Autoplay),true)">ClearProperty(Trailer_Autoplay,home)</onunload>
	<defaultcontrol always="true">9001</defaultcontrol>
	<backgroundcolor>$VAR[Dark_Color]</backgroundcolor>
	<include content="WindowOpenClose_Fade_Animation"/>
	<controls>
		<!-- Focus setter to ensure widget scrollbar displays correctly -->
		<include content="Focus_Setter">
			<param name="target_id" value="SetFocus(9000)"/>
		</include>
		<include content="User_Scroll_Delay">
			<param name="onprevious_trigger" value="Container(9010).OnPrevious | Container(9020).OnPrevious | Container(9030).OnPrevious | Container(9040).OnPrevious | Container(9050).OnPrevious | Container(9060).OnPrevious | Container(9070).OnPrevious | Container(9080).OnPrevious | Container(9090).OnPrevious"/>
			<param name="onnext_trigger" value="Container(9010).OnNext | Container(9020).OnNext | Container(9030).OnNext | Container(9040).OnNext | Container(9050).OnNext | Container(9060).OnNext | Container(9070).OnNext | Container(9080).OnNext | Container(9090).OnNext"/>
		</include>
		<include condition="Skin.HasSetting(Music_Player_Enabled)" content="Music_Player_Buttons"/>
		<include condition="Skin.HasSetting(Multiart_Slideshow)" content="MyViews_Multiart_Labels"/>
		<!-- Fix for audio stutter / Trailer autoplay -->
		<control type="videowindow">
			<visible>String.IsEqual(Window(home).Property(Trailer_Autoplay),true)</visible>
		</control>
		<include condition="Skin.HasSetting(Trailer_Autoplay)" content="Trailer_Autoplay_Mask">
			<param name="timer" value="trailer_autoplay_home"/>
		</include>
		<!-- Menu list -->
		<control type="list" id="9000">
			<viewtype label="535">list</viewtype>
			<width>800</width>
			<height>0</height>
			<onfocus>ClearProperty(HomeWidget,home)</onfocus>
			<include content="Home_Menu_Navigation"/>
			<orientation>horizontal</orientation>
			<itemlayout width="100"/>
			<focusedlayout width="100"/>
			<content>
				<include>skinshortcuts-mainmenu</include>
			</content>
		</control>
		<!-- Background -->
		<include content="Light_Theme_Background">
			<param name="visible" value="!Control.HasFocus(9001) + !Control.HasFocus(9000) + !$EXP[Music_Player_HasFocus]"/>
			<include condition="Skin.HasSetting(Trailer_Autoplay)" content="Trailer_Autoplay_Fade_Delayed_Animation"/>
		</include>
		<control type="group">
			<visible>Control.HasFocus(9000) | Control.HasFocus(9500) | $EXP[Music_Player_HasFocus]</visible>
			<include content="WindowOpenClose_Fade_Animation"/>
			<include content="Home_Fanart_Slideshow"/>
			<include condition="Skin.HasSetting(Home_Screensaver_Enabled)" content="Home_Clearlogo"/>
		</control>
		<!-- Content -->
		<control type="group">
			<include content="WindowOpenClose_Fade_Delayed_Long_Animation"/>
			<include condition="Skin.HasSetting(Trailer_Autoplay)" content="Trailer_Autoplay_Fade_Animation"/>
			<!-- Main menu and clock -->
			<control type="group">
				<visible>Control.HasFocus(9000) | $EXP[Music_Player_HasFocus]</visible>
				<visible>!$EXP[TransparentDialog_IsVisible] + !Window.IsVisible(favourites) + !$EXP[InfoDialog_IsVisible]</visible>
				<include content="VisibleHidden_Fade_Delayed_Animation"/>
				<include content="Horizontal_List">
					<param name="hidden_id" value="9000"/>
					<param name="focused_color" value="$VAR[Light_Color]"/>
					<param name="unfocused_color" value="$VAR[Light_Color]"/>
				</include>
				<include condition="!Skin.HasSetting(Hide_Home_Clock)" content="Clock">
					<param name="textcolor" value="$VAR[Notification_Widget_Label_Color]"/>
				</include>
			</control>
			<!-- Widgets -->
			<include condition="Skin.HasSetting(Widgets_Enabled)" content="Home_Widgets"/>
			<!-- Music Player -->
			<include condition="Skin.HasSetting(Music_Player_Enabled)" content="Music_Player_Widget">
				<param name="visible" value="!$EXP[TransparentDialog_IsVisible]"/>
				<param name="left_label_visible" value="true"/>
				<param name="background_visible" value="false"/>
				<include content="Visible_Fade_Delayed_Animation"/>
			</include>
		</control>
	</controls>
</window>
