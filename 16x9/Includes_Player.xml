<includes>


	<include name="Player_Progress">
		<param name="left"/>
		<param name="right"/>
		<param name="bottom"/>
		<param name="height"/>
		<param name="progress_id"/>
		<param name="left_label"/>
		<param name="right_label"/>
		<param name="text_color"/>
		<definition>
			<control type="group">
				<left>$PARAM[left]</left>
				<right>$PARAM[right]</right>
				<bottom>$PARAM[bottom]</bottom>
				<height>$PARAM[height]</height>
				<!--Cache bar-->
				<control type="progress" id="$PARAM[progress_id]">
					<centertop>50%</centertop>
					<left>$PARAM[progress_bar_padding]</left>
					<right>$PARAM[progress_bar_padding]</right>
					<height>6</height>
					<info>Player.ProgressCache</info>
					<texturebg colordiffuse="$VAR[Progress_Background_Color]">views/white_100.png</texturebg>
					<lefttexture></lefttexture>
					<midtexture colordiffuse="$VAR[Progress_Background_Color]">views/white_100.png</midtexture>
					<righttexture></righttexture>
					<overlaytexture></overlaytexture>
				</control>
				<!--Progress bar-->
				<control type="progress" id="$PARAM[progress_id]">
					<centertop>50%</centertop>
					<left>$PARAM[progress_bar_padding]</left>
					<right>$PARAM[progress_bar_padding]</right>
					<height>6</height>
					<info>Player.Progress</info>
					<texturebg colordiffuse="$VAR[Blank_Color]">views/white_100.png</texturebg>
					<lefttexture></lefttexture>
					<midtexture colordiffuse="$VAR[Progress_Focused_Color]">views/white_100.png</midtexture>
					<righttexture></righttexture>
					<overlaytexture></overlaytexture>
				</control>
				<control type="label">
					<height>100%</height>
					<width>100%</width>
					<align>left</align>
					<aligny>center</aligny>
					<label>$PARAM[left_label]</label>
					<font>Player_Time</font>
					<textcolor>$PARAM[text_color]</textcolor>
				</control>
				<control type="label">
					<width>100%</width>
					<align>right</align>
					<aligny>center</aligny>
					<label>$PARAM[right_label]</label>
					<font>Player_Time</font>
					<textcolor>$PARAM[text_color]</textcolor>
				</control>
			</control>
		</definition>
	</include>

	<include name="Player_Status_Icons">
		<param name="icon_type" default="large"/>
		<param name="large_label" default="false"/>
		<param name="small_label" default="false"/>
		<definition>
			<control type="group">
				<animation effect="slide" start="0" end="240" time="0" condition="Window.IsVisible(visualisation)">Conditional</animation>
				<animation effect="slide" start="0" end="0,300" time="0" condition="Window.IsVisible(videoosd)">Conditional</animation>
				<animation effect="slide" start="0" end="0,240" time="0" condition="Window.IsVisible(musicosd)">Conditional</animation>
				<visible>!Window.IsActive(busydialog)</visible>
				<include>Content_Fade_Animation</include>
				<control type="group">
					<width>120</width>
					<height>120</height>
					<centerleft>50%</centerleft>
					<centertop>50%</centertop>
					<!-- Paused
					<control type="grouplist">
						<visible>Player.Paused  + !Window.IsVisible(videoosd)</visible>
						<include>Delayed_Content_Fade_Animation</include>
						<centertop>50%</centertop>
						<height>30%</height>
						<itemgap>6</itemgap>
						<orientation>horizontal</orientation>
						<align>center</align>
						<control type="image">
							<width>12</width>
							<texture colordiffuse="$VAR[Light_Color]">views/white_100.png</texture>
						</control>
						<control type="image">
							<width>12</width>
							<texture colordiffuse="$VAR[Light_Color]">views/white_100.png</texture>
						</control>
					</control>-->
					<!-- Paused -->
					<control type="image">
						<visible>Player.Paused + !Window.IsVisible(videoosd) + !Window.IsVisible(musicosd)</visible>
						<include>Content_Fade_Animation</include>
						<centertop>50%</centertop>
						<centerleft>50%</centerleft>
						<texture colordiffuse="$VAR[Light_Color]">osd/icon_Player.Paused_$PARAM[icon_type].png</texture>
					</control>
					<!--Playing-->
					<control type="group">
						<visible>Player.Paused + !Window.IsVisible(videoosd) + !Window.IsVisible(musicosd)</visible>
						<animation effect="fade" start="100" end="0" time="360" delay="540" tween="sine" easing="out">Hidden</animation>
						<control type="image">
							<visible>Player.Playing</visible>
							<centertop>50%</centertop>
							<centerleft>50%</centerleft>
							<texture colordiffuse="$VAR[Light_Color]">osd/icon_Player.Playing_$PARAM[icon_type].png</texture>
						</control>
					</control>
					<!-- Rewinding -->
					<control type="group">
						<visible>Player.Rewinding</visible>
						<include>Delayed_Content_Fade_Animation</include>
						<control type="image">
							<visible>Player.Rewinding2x</visible>
							<centertop>50%</centertop>
							<centerleft>50%</centerleft>
							<texture colordiffuse="$VAR[Light_Color]" flipx="true">osd/icon_Player.Forwarding_2x_$PARAM[icon_type].png</texture>
						</control>
						<control type="image">
							<visible>Player.Rewinding4x</visible>
							<centertop>50%</centertop>
							<centerleft>50%</centerleft>
							<texture colordiffuse="$VAR[Light_Color]" flipx="true">osd/icon_Player.Forwarding_4x_$PARAM[icon_type].png</texture>
						</control>
						<control type="image">
							<visible>Player.Rewinding8x</visible>
							<centertop>50%</centertop>
							<centerleft>50%</centerleft>
							<texture colordiffuse="$VAR[Light_Color]" flipx="true">osd/icon_Player.Forwarding_8x_$PARAM[icon_type].png</texture>
						</control>
						<control type="image">
							<visible>Player.Rewinding16x</visible>
							<centertop>50%</centertop>
							<centerleft>50%</centerleft>
							<texture colordiffuse="$VAR[Light_Color]" flipx="true">osd/icon_Player.Forwarding_16x_$PARAM[icon_type].png</texture>
						</control>
						<control type="image">
							<visible>Player.Rewinding32x</visible>
							<centertop>50%</centertop>
							<centerleft>50%</centerleft>
							<texture colordiffuse="$VAR[Light_Color]" flipx="true">osd/icon_Player.Forwarding_32x_$PARAM[icon_type].png</texture>
						</control>
					</control>
					<!-- Forwarding -->
					<control type="group">
						<visible>Player.Forwarding</visible>
						<include>Delayed_Content_Fade_Animation</include>
						<control type="image">
							<visible>Player.Forwarding2x</visible>
							<centertop>50%</centertop>
							<centerleft>50%</centerleft>
							<texture colordiffuse="$VAR[Light_Color]">osd/icon_Player.Forwarding_2x_$PARAM[icon_type].png</texture>
						</control>
						<control type="image">
							<visible>Player.Forwarding4x</visible>
							<centertop>50%</centertop>
							<centerleft>50%</centerleft>
							<texture colordiffuse="$VAR[Light_Color]">osd/icon_Player.Forwarding_4x_$PARAM[icon_type].png</texture>
						</control>
						<control type="image">
							<visible>Player.Forwarding8x</visible>
							<centertop>50%</centertop>
							<centerleft>50%</centerleft>
							<texture colordiffuse="$VAR[Light_Color]">osd/icon_Player.Forwarding_8x_$PARAM[icon_type].png</texture>
						</control>
						<control type="image">
							<visible>Player.Forwarding16x</visible>
							<centertop>50%</centertop>
							<centerleft>50%</centerleft>
							<texture colordiffuse="$VAR[Light_Color]">osd/icon_Player.Forwarding_16x_$PARAM[icon_type].png</texture>
						</control>
						<control type="image">
							<visible>Player.Forwarding32x</visible>
							<centertop>50%</centertop>
							<centerleft>50%</centerleft>
							<texture colordiffuse="$VAR[Light_Color]">osd/icon_Player.Forwarding_32x_$PARAM[icon_type].png</texture>
						</control>
					</control>
					<!-- label -->
					<control type="label">
						<visible>$PARAM[large_label] + [Player.Rewinding | Player.Forwarding]</visible>
						<include>Delayed_Content_Fade_Animation</include>
						<top>90</top>
						<width>auto</width>
						<align>center</align>
						<aligny>center</aligny>
						<textcolor>$VAR[Light_Color]</textcolor>
						<font>Player_Status</font>
						<label>$VAR[Player_Status]</label>
					</control>
					<control type="label">
						<visible>$PARAM[small_label] + [Player.Rewinding | Player.Forwarding]</visible>
						<include>Delayed_Content_Fade_Animation</include>
						<top>60</top>
						<width>auto</width>
						<align>center</align>
						<aligny>center</aligny>
						<textcolor>$VAR[Light_Color]</textcolor>
						<font>Body</font>
						<label>$VAR[Player_Status]</label>
					</control>
				</control>
			</control>
		</definition>
	</include>

	<include name="Music_Player_Buttons">
		<definition>
			<control type="panel" id="91100">
				<width>180</width>
				<height>120</height>
				<include>Music_Player_Navigation</include>
				<onunfocus>ClearProperty(Music_Player_Controls,home)</onunfocus>
				<scrolltime>0</scrolltime>
				<itemlayout width="60" height="60"/>
				<focusedlayout width="60" height="60">
					<control type="button">
						<visible allowhiddenfocus="true">false</visible>
						<onfocus>SetProperty(Music_Player_Controls,$INFO[Container(91100).ListItem.Label],home)</onfocus>
					</control>
				</focusedlayout>
				<content>
					<item>
						<description>Previous</description>
						<label>$LOCALIZE[210]</label>
						<onclick>PlayerControl(Previous)</onclick>
					</item>
					<item>
						<description>Pause</description>
						<label>$VAR[Play_Pause_Label]</label>
						<onclick>PlayerControl(Play)</onclick>
						<onclick>SetProperty(Music_Player_Controls,$VAR[Play_Pause_Label],home)</onclick>
					</item>
					<item>
						<description>Next</description>
						<label>$LOCALIZE[209]</label>
						<onclick>PlayerControl(Next)</onclick>
					</item>
					<item>
						<description>Artist</description>
						<label>$LOCALIZE[557]</label>
						<onclick>Dialog.Close(all)</onclick>
						<onclick>ActivateWindow(music,musicdb://albums/?xsp=%7b%22rules%22%3a%7b%22and%22%3a%5b%7b%22field%22%3a%22artist%22%2c%22operator%22%3a%22is%22%2c%22value%22%3a%5b$ESCINFO[MusicPlayer.Artist]%5d%7d%5d%7d%2c%22type%22%3a%22albums%22%7d,return)</onclick>
					</item>
					<item>
						<description>Stop</description>
						<label>$LOCALIZE[31528]</label>
						<onclick>PlayerControl(Stop)</onclick>
						<onclick condition="Window.IsVisible(home)">SetFocus(9000)</onclick>
						<onclick condition="Window.IsVisible(favourites)">SetFocus(450)</onclick>
						<onclick condition="$EXP[ListView_IsVisible]">SetFocus(50)</onclick>
						<onclick condition="$EXP[BillboardView_IsVisible]">SetFocus(501)</onclick>
						<onclick condition="$EXP[ShowcaseView_IsVisible]">SetFocus(502)</onclick>
						<onclick condition="$EXP[StripView_IsVisible]">SetFocus(504)</onclick>
						<onclick condition="$EXP[GridView_IsVisible]">SetFocus(505)</onclick>
					</item>
					<item>
						<description>Go to music visualisation</description>
						<label>$LOCALIZE[31529]</label>
						<onclick>ActivateWindow(visualisation)</onclick>
					</item>
				</content>
			</control>
		</definition>
	</include>

	<include name="Music_Player_Button_Template">
		<param name="visible" default="true"/>
		<param name="focused"/>
		<param name="icon"/>
		<param name="left"/>
		<param name="top"/>
		<definition>
			<control type="group">
				<visible>$PARAM[visible]</visible>
				<left>$PARAM[left]</left>
				<top>$PARAM[top]</top>
				<width>60</width>
				<height>60</height>
				<control type="image">
					<visible>!$PARAM[focused]</visible>
					<texture colordiffuse="$VAR[Light_Color]">osd/icon_$PARAM[icon]_unfocused.png</texture>
				</control>
				<control type="group">
					<visible>$PARAM[focused]</visible>
					<control type="image">
						<texture colordiffuse="$VAR[Light_Color]">osd/icon_$PARAM[icon]_focused.png</texture>
					</control>
				</control>
			</control>
		</definition>
	</include>

	<include name="Music_Player_Label_Template">
		<param name="padding" default="30"/>
		<param name="group_align" default="center"/>
		<param name="label_align" default="left"/>
		<param name="label_1" default="$INFO[MusicPlayer.Title]"/>
		<param name="label_2" default="$INFO[MusicPlayer.Artist]"/>
		<param name="title_label_scroll" default="false"/>
		<param name="info_label_scroll" default="false"/>
		<param name="text_color" default="$VAR[Notification_Widget_Label_Color]"/>
		<definition>
			<control type="grouplist">
				<animation effect="slide" start="0,0" end="0,-30"  condition="$EXP[StripView_Display_IsPosters] + [$EXP[Music_Player_IsVisible] | Window.IsVisible(volumebar)] + !$EXP[InfoWidget_HasFocus]">Conditional</animation>
				<left>$PARAM[padding]</left>
				<right>$PARAM[padding]</right>
				<orientation>vertical</orientation>
				<align>$PARAM[group_align]</align>
				<itemgap>0</itemgap>
				<control type="label">
					<visible>String.IsEmpty(Window(home).Property(Music_Player_Controls))</visible>
					<include>Content_Fade_Animation</include>
					<height>40</height>
					<label>$PARAM[label_1]</label>
					<font>MusicPlayer_Title</font>
					<textcolor>$PARAM[text_color]</textcolor>
					<align>$PARAM[label_align]</align>
					<scroll>$PARAM[title_label_scroll]</scroll>
					<scrollsuffix> / </scrollsuffix>
				</control>
				<control type="label">
					<visible>String.IsEmpty(Window(home).Property(Music_Player_Controls))</visible>
					<include>Content_Fade_Animation</include>
					<height>35</height>
					<label>$PARAM[label_2]</label>
					<font>MusicPlayer_Info</font>
					<textcolor>$PARAM[text_color]</textcolor>
					<align>$PARAM[label_align]</align>
					<scroll>$PARAM[info_label_scroll]</scroll>
					<scrollsuffix> / </scrollsuffix>
				</control>
				<control type="label">
					<visible>!String.IsEmpty(Window(home).Property(Music_Player_Controls))</visible>
					<animation effect="slide" end="60" time="0" condition="!String.IsEmpty(Window(home).Property(Music_Player_Controls)) + Window.IsVisible(home) + Window.IsVisible(volumebar)" reversible="false">Conditional</animation>
					<include>Content_Fade_Animation</include>
					<height>40</height>
					<label>$VAR[Music_Player_Label]</label>
					<font>MusicPlayer_Title</font>
					<textcolor>$PARAM[text_color]</textcolor>
					<align>$PARAM[label_align]</align>
				</control>
			</control>
		</definition>
	</include>

	<include name="Music_Player_Widget">
		<param name="visible" default="true"/>
		<param name="width" default="100%"/>
		<param name="top" default="0"/>
		<param name="height" default="180"/>
		<param name="label_padding" default="-30"/>
		<param name="label_width" default="600"/>
		<param name="align" default="right"/>
		<param name="background_visible" default="true"/>
		<param name="content_visible" default="![Window.IsVisible(volumebar) | Window.IsVisible(notification) | Window.IsVisible(extendedprogressdialog)]"/>
		<param name="progress_info" default="Player.Progress"/>
		<param name="progress_side" default="0"/>
		<param name="progress_top" default="0"/>
		<param name="progress_height" default="6"/>
		<param name="title_label_scroll" default="false"/>
		<param name="label_1" default="$INFO[MusicPlayer.Title]"/>
		<param name="label_2" default="$INFO[MusicPlayer.Artist]"/>
		<param name="center_label_visible" default="false"/>
		<param name="left_label_visible" default="false"/>
		<param name="right_label_visible" default="false"/>
		<definition>
			<control type="group">
				<visible>$EXP[Music_Player_IsVisible]</visible>
				<visible>$PARAM[visible]</visible>
				<control type="grouplist">
					<visible>!$EXP[ContainerSwitching] + !$EXP[OpaqueDialog_IsVisible] + !$EXP[TransparentDialog_IsVisible]</visible>
					<include>Delayed_Content_Fade_Animation</include>
					<width>$PARAM[width]</width>
					<top>$PARAM[top]</top>
					<height>$PARAM[height]</height>
					<itemgap>0</itemgap>
					<orientation>horizontal</orientation>
					<align>$PARAM[align]</align>
					<usecontrolcoords>true</usecontrolcoords>

					<!-- Left Label -->
					<control type="group">
						<animation effect="slide" end="-60,0" time="0" condition="!String.IsEmpty(Window(home).Property(Music_Player_Controls)) + [$EXP[InfoDialog_IsVisible] | ![$EXP[ListView_Display_IsThumbnails] | [$EXP[ShowcaseView_Display_IsPosters] + !$EXP[ShowcaseView_Details_Off]] | $EXP[StripView_IsVisible] | $EXP[GridView_IsVisible]]]">Conditional</animation>
						<visible>$PARAM[left_label_visible]</visible>
						<height>$PARAM[height]</height>
						<width>$PARAM[label_width]</width>
						<control type="group">
							<visible>$PARAM[content_visible]</visible>
							<include>Notification_Label_Fade_Animation</include>
							<include content="Music_Player_Label_Template">
								<param name="padding" value="$PARAM[label_padding]"/>
								<param name="group_align" value="center"/>
								<param name="label_align" value="right"/>
								<param name="label_1" value="$PARAM[label_1]"/>
								<param name="label_2" value="$PARAM[label_2]"/>
								<param name="title_label_scroll" value="$PARAM[title_label_scroll]"/>
							</include>
						</control>
					</control>

					<!-- Main -->
					<control type="group">
						<width>$PARAM[height]</width>
						<height>$PARAM[height]</height>
						<!-- Artwork -->
						<control type="group">
							<visible>$PARAM[background_visible]</visible>
							<control type="image">
								<texture colordiffuse="$VAR[Dark_Color]">views/white_100.png</texture>
								<aspectratio>scale</aspectratio>
							</control>
							<control type="image">
								<texture colordiffuse="$VAR[Home_Artwork_Diffuse]" fallback="fallback.png">$INFO[Player.Art(album.thumb)]</texture>
								<aspectratio>scale</aspectratio>
							</control>
							<!-- Gridview shadow -->
							<control type="image">
								<visible>String.IsEmpty(Window(home).Property(Music_Player_Controls)) + String.IsEqual(Container.Row,0) +  [[$EXP[GridView_Display_IsFanart] + String.IsEqual(Container.Column,2)] | [[$EXP[GridView_Display_IsPosters] | $EXP[GridView_Display_IsSquare]] + String.IsEqual(Container.Column,4)]]</visible>
								<bottom>0</bottom>
								<height>120</height>
								<texture colordiffuse="$VAR[Artwork_Dropshadow]">views/dropshadow_top_120.png</texture>
								<aspectratio>stretch</aspectratio>
							</control>
						</control>
						<!--Music Player Controls-->
						<control type="group">
							<visible>!String.IsEmpty(Window(home).Property(Music_Player_Controls))</visible>
							<include>Content_Fade_Animation</include>
							<width>180</width>
							<height>120</height>
							<centerleft>50%</centerleft>
							<centertop>50%</centertop>
							<include content="Music_Player_Button_Template">
								<param name="focused" value="String.IsEqual(Window(home).Property(Music_Player_Controls),$LOCALIZE[210])"/>
								<param name="icon" value="Previous"/>
								<param name="left" value="0"/>
								<param name="top" value="0"/>
							</include>
							<include content="Music_Player_Button_Template">
								<param name="visible" value="!Player.Paused"/>
								<param name="focused" value="String.IsEqual(Window(home).Property(Music_Player_Controls),$LOCALIZE[31526]) + !Player.Paused"/>
								<param name="icon" value="Pause"/>
								<param name="left" value="60"/>
								<param name="top" value="0"/>
							</include>
							<include content="Music_Player_Button_Template">
								<param name="visible" value="Player.Paused"/>
								<param name="focused" value="String.IsEqual(Window(home).Property(Music_Player_Controls),$LOCALIZE[208]) + Player.Paused"/>
								<param name="icon" value="Play"/>
								<param name="left" value="60"/>
								<param name="top" value="0"/>
							</include>
							<include content="Music_Player_Button_Template">
								<param name="focused" value="String.IsEqual(Window(home).Property(Music_Player_Controls),$LOCALIZE[209])"/>
								<param name="icon" value="Next"/>
								<param name="left" value="120"/>
								<param name="top" value="0"/>
							</include>
							<include content="Music_Player_Button_Template">
								<param name="focused" value="String.IsEqual(Window(home).Property(Music_Player_Controls),$LOCALIZE[557])"/>
								<param name="icon" value="Artist"/>
								<param name="left" value="0"/>
								<param name="top" value="60"/>
							</include>
							<include content="Music_Player_Button_Template">
								<param name="focused" value="String.IsEqual(Window(home).Property(Music_Player_Controls),$LOCALIZE[31528])"/>
								<param name="icon" value="Stop"/>
								<param name="left" value="60"/>
								<param name="top" value="60"/>
							</include>
							<include content="Music_Player_Button_Template">
								<param name="focused" value="String.IsEqual(Window(home).Property(Music_Player_Controls),$LOCALIZE[31529])"/>
								<param name="icon" value="Fullscreen"/>
								<param name="left" value="120"/>
								<param name="top" value="60"/>
							</include>
						</control>
						<!--Other Furniture-->
						<control type="group">
							<visible>$PARAM[content_visible]</visible>
							<include>Notification_Label_Fade_Animation</include>
							<!--Now Playing animation-->
							<control type="group">
								<animation effect="slide" start="0" end="0,-15" time="0" condition="Player.Rewinding | Player.Forwarding">Conditional</animation>
								<visible>String.IsEmpty(Window(home).Property(Music_Player_Controls))</visible>
								<centerleft>50%</centerleft>
								<centertop>50%</centertop>
								<width>120</width>
								<height>120</height>
								<include content="Now_Playing_Visualization_Fill">
									<param name="color" value="$VAR[Now_Playing_Color]"/>
								</include>
								<include content="Player_Status_Icons">
									<param name="icon_type" value="small"/>
									<param name="small_label" value="true"/>
								</include>
							</control>
							<!--Progress Bar-->
							<control type="progress">
								<visible>$PARAM[background_visible]</visible>
								<left>$PARAM[progress_side]</left>
								<right>$PARAM[progress_side]</right>
								<top>$PARAM[progress_top]</top>
								<height>$PARAM[progress_height]</height>
								<info>$PARAM[progress_info]</info>
								<texturebg colordiffuse="$VAR[Light_Progress_Background_Color]">views/white_100.png</texturebg>
								<lefttexture></lefttexture>
								<midtexture colordiffuse="$VAR[Light_Progress_Focused_Color]">views/white_100.png</midtexture>
								<righttexture></righttexture>
								<overlaytexture></overlaytexture>
							</control>
							<!--Center Label-->
							<control type="group">
								<left>0</left>
								<right>0</right>
								<bottom>20</bottom>
								<visible>$PARAM[center_label_visible]</visible>
								<include content="Music_Player_Label_Template">
									<param name="group_align" value="right"/>
									<param name="label_align" value="left"/>
									<param name="title_label_scroll" value="true"/>
									<param name="label_1" value="$PARAM[label_1]"/>
									<param name="label_2" value="$PARAM[label_2]"/>
									<param name="text_color" value="$VAR[Light_Color]"/>
								</include>
							</control>
						</control>
					</control>

					<!--Right Label-->
					<control type="group">
						<visible>$PARAM[right_label_visible]</visible>
						<height>$PARAM[height]</height>
						<width>$PARAM[label_width]</width>
						<control type="group">
							<visible>$PARAM[content_visible]</visible>
							<include>Notification_Label_Fade_Animation</include>
							<include content="Music_Player_Label_Template">
								<param name="padding" value="$PARAM[label_padding]"/>
								<param name="group_align" value="center"/>
								<param name="label_align" value="left"/>
								<param name="label_1" value="$PARAM[label_1]"/>
								<param name="label_2" value="$PARAM[label_2]"/>
								<param name="title_label_scroll" value="$PARAM[title_label_scroll]"/>
							</include>
						</control>
					</control>

				</control>
			</control>
		</definition>
	</include>

</includes>
