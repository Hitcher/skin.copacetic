<?xml version="1.0" encoding="UTF-8"?>
<window>
	<!-- addoninformation -->
	<onload condition="!String.Contains(Control.GetLabel(13),*) | String.IsEmpty(Skin.String(AutoUpdate))">Skin.SetString(AutoUpdate,off)</onload>
	<onunload>ClearProperty(AddonDetails,home)</onunload>
	<defaultcontrol always="true">9001</defaultcontrol>
	<backgroundcolor>$VAR[Secondary_Color]</backgroundcolor>
	<include>Delayed_Dialog_Fade_Animation</include>
	<controls>

		<!-- Delay content on Load -->
		<include content="Delay_Content_Load">
			<param name="id" value="9001"/>
			<param name="time" value="360"/>
			<param name="target_id" value="SetFocus(65000,0,absolute)"/>
		</include>

		<!-- Hidden Button -->
		<control id="13" type="radiobutton">
			<visible>Control.IsEnabled(13)</visible>
			<visible allowhiddenfocus="true">false</visible>
		</control>

		<!-- OnPrevious delay -->
		<control type="group" id="5001">
			<visible>$EXP[InfoWidget_OnPrevious]</visible>
			<animation effect="slide" end="0,0" time="360" reversible="false">Hidden</animation>
		</control>

		<!-- OnNext delay -->
		<control type="group" id="5002">
			<visible>$EXP[InfoWidget_OnNext]</visible>
			<animation effect="slide" end="0,0" time="360" reversible="false">Hidden</animation>
		</control>

		<control type="group">
			<visible>!Window.IsVisible(selectdialog)</visible>
			<include>Delayed_Content_Fade_Animation</include>

			<!-- Background -->
			<control type="group">
				<visible>Window.IsActive(addoninformation) + !Control.HasFocus(50) + !Control.HasFocus(9001) + !Window.IsVisible(addonsettings) + !Window.IsVisible(selectdialog)</visible>
				<include>Delayed_Content_Fade_Animation</include>
				<animation effect="slide" start="0" end="0,660" time="0" condition="ControlGroup(65000).HasFocus">Conditional</animation>
				<animation effect="slide" start="0" end="0,-660" time="180" tween="sine" easing="inout" reversible="false" condition="ControlGroup(65000).HasFocus">Conditional</animation>
				<animation effect="fade" start="0" end="100" time="360" tween="sine" easing="inout" reversible="false" condition="ControlGroup(65000).HasFocus">Conditional</animation>
				<include content="Transparent_Dialog_Panel">
					<param name="left" value="0"/>
					<param name="top" value="180"/>
					<param name="bottom" value="180"/>
				</include>
				<control type="image">
					<left>0</left>
					<centertop>50%</centertop>
					<width>720</width>
					<height>720</height>
					<texture fallback="fallback/fallback.png" background="true">$INFO[ListItem.Art(thumb)]</texture>
				</control>
			</control>

			<!-- Content -->
			<control type="group">
				<visible>Window.IsActive(addoninformation) + !Control.HasFocus(9001) + !Window.IsVisible(addonsettings) + !Window.IsVisible(selectdialog)</visible>
				<include>Long_Delayed_Content_Fade_Animation</include>
				<control type="group">
					<visible>!$EXP[TransparentDialog_IsVisible]</visible>
					<include>Content_Fade_Animation</include>

					<control type="group">
						<visible>!Control.HasFocus(50)</visible>
						<include>Long_Delayed_Content_Fade_Animation</include>

						`<include content="Breadcrumb_Label">
							<param name="bar" value="false"/>
							<param name="title_label" value="$INFO[Window(addoninformation).Property(Focused_Button),$LOCALIZE[31130] ,  $LOCALIZE[31131]]"/>
							<param name="label_color" value="$VAR[Breadcrumb_Label_Color]"/>
							<param name="info_label_visible" value="false"/>
						</include>

						<!-- Details -->
						<include content="Info_Dialog_Header">
							<param name="visible" value="true"/>
							<param name="left" value="780"/>
							<param name="right" value="120"/>
							<param name="align" value="left"/>
						</include>

						<!-- Button group -->
						<control type="grouplist" id="65000">
							<centerleft>50%</centerleft>
							<bottom>60</bottom>
							<width>420</width>
							<height>60</height>
							<orientation>horizontal</orientation>
							<align>center</align>
							<itemgap>0</itemgap>
							<usecontrolcoords>true</usecontrolcoords>
							<!-- Run -->
							<control type="button" id="12">
								<visible>Control.IsEnabled(12)</visible>
								<include>Hidden_Button</include>
								<onfocus>SetProperty(Focused_Button,$INFO[Control.GetLabel(12)],addoninformation)</onfocus>
								<include>AddonInfo_Dialog_Menu_Navigation</include>
							</control>
							<!-- Show settings -->
							<control type="button" id="9">
								<include>Hidden_Button</include>
								<visible>Control.IsEnabled(9)</visible>
								<onfocus>SetProperty(Focused_Button,$LOCALIZE[24020],addoninformation)</onfocus>
								<include>AddonInfo_Dialog_Menu_Navigation</include>
							</control>
							<!-- Update button -->
							<control type="button" id="8">
								<include>Hidden_Button</include>
								<visible>Control.IsEnabled(8)</visible>
								<onfocus>SetProperty(Focused_Button,$INFO[Control.GetLabel(8)],addoninformation)</onfocus>
								<include>AddonInfo_Dialog_Menu_Navigation</include>
							</control>
							<!-- Install/Uninstall Addon button -->
							<control type="button" id="6">
								<include>Hidden_Button</include>
								<visible>Control.IsEnabled(6)</visible>
								<onfocus>SetProperty(Focused_Button,$INFO[Control.GetLabel(6)],addoninformation)</onfocus>
								<onclick>SetProperty(Focused_Button,$INFO[Control.GetLabel(6)],addoninformation)</onclick>
								<include>AddonInfo_Dialog_Menu_Navigation</include>
							</control>
							<!-- Enable/Disable Addon button -->
							<control type="button" id="7">
								<include>Hidden_Button</include>
								<visible>Control.IsEnabled(7)</visible>
								<onfocus>SetProperty(Focused_Button,$INFO[Control.GetLabel(7)],addoninformation)</onfocus>
								<onclick>SetProperty(Focused_Button,$INFO[Control.GetLabel(7)],addoninformation)</onclick>
								<include>AddonInfo_Dialog_Menu_Navigation</include>
							</control>
							<!-- Show dependencies -->
							<control type="button" id="10">
								<include>Hidden_Button</include>
								<visible>Control.IsEnabled(10)</visible>
								<onfocus>SetProperty(Focused_Button,$LOCALIZE[39024],addoninformation)</onfocus>
								<include>AddonInfo_Dialog_Menu_Navigation</include>
							</control>
							<!-- Select version -->
							<control type="button" id="14">
								<include>Hidden_Button</include>
								<visible>Control.IsEnabled(14)</visible>
								<onfocus>SetProperty(Focused_Button,$LOCALIZE[21338],addoninformation)</onfocus>
								<include>AddonInfo_Dialog_Menu_Navigation</include>
							</control>
							<!-- Auto-update button Button -->
							<control type="button" id="20">
								<include>Hidden_Button</include>
								<label>$VAR[AutoUpdate]</label>
								<onfocus>SetProperty(Focused_Button,$VAR[AutoUpdate],addoninformation)</onfocus>
								<onclick>SetFocus(13)</onclick>
								<onclick>Select</onclick>
								<onclick>SetFocus(20)</onclick>
								<onclick condition="String.Contains(Skin.String(AutoUpdate),off)">Skin.SetString(AutoUpdate,on)</onclick>
								<onclick condition="String.Contains(Skin.String(AutoUpdate),on)">Skin.SetString(AutoUpdate,off)</onclick>
								<include>AddonInfo_Dialog_Menu_Navigation</include>
							</control>
						</control>
					</control>
				</control>

				<include content="Info_Widget_Screenshots"/>
				<include content="Dialog_Widget_Scrollbar"/>

				<!-- Music Player -->
				<control type="group">
					<visible>!Window.IsVisible(shutdownmenu)</visible>
					<include>Delayed_Content_Fade_Animation</include>
					<include condition="Skin.HasSetting(Music_Player_Enabled)" content="Music_Player_Buttons"/>
					<include condition="Skin.HasSetting(Music_Player_Enabled)" content="Music_Player_Widget">
						<param name="left_label_visible" value="true"/>
						<param name="background_visible" value="false"/>
					</include>
				</control>
			</control>

			<!-- Transparent dialogs background over widgets -->
			<control type="group">
				<visible>$EXP[TransparentDialog_IsVisible]</visible>
				<include>Transparent_Dialog_Background</include>
				<include>Content_Fade_Animation</include>
			</control>

		</control>
	</controls>
</window>
